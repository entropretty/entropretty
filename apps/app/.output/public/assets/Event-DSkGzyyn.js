import{c as v,s as w,e as D,j as t,r as m,L as N}from"./main-D_QOtJ75.js";import{E}from"./EntroprettyLogo-Bx03ggtu.js";import{G as S}from"./GalleryAlgorithm-_HssrdwY.js";import{u as I}from"./index-DFufhFO-.js";import{u as q}from"./useQuery-tapXCO0W.js";function T(e,a){const l=v.c(3);let r;return l[0]!==a||l[1]!==e?(r={queryKey:["algorithms","ids","date-range",e,a],queryFn:async()=>{const{data:s,error:n}=await w.from("algorithms_with_user_profile").select("id, created_at").gte("created_at",e).lte("created_at",a).order("created_at",{ascending:!1});if(n)throw n;return(s??[]).map(k).filter(_)},staleTime:6e4},l[0]=a,l[1]=e,l[2]=r):r=l[2],q(r)}function _(e){return e!==null}function k(e){return e.id}function L({title:e,queryStartDate:a,queryEndDate:l,eventStartDate:r,eventEndDate:s,headerImage:n,website:o}){const[i,p]=m.useState([]),[h,u]=m.useState([]),{ref:y,inView:f}=I({threshold:0,rootMargin:"400px"}),{data:c,isLoading:b}=T(a,l);m.useEffect(()=>{if(!c)return;p(c);const d=c.slice(0,64);u(d)},[c]);const g=m.useCallback(()=>{if(!i.length)return;const d=h.length,x=i.slice(d,d+32);x.length>0&&u(j=>[...j,...x])},[i,h.length]);return m.useEffect(()=>{f&&g()},[f,g]),b?t.jsx("div",{className:"relative flex flex-col",children:t.jsxs("div",{className:"p-8",children:[t.jsx("h1",{className:"mb-8 text-center text-3xl font-bold",children:e}),t.jsx("div",{className:"text-center text-gray-600",children:"Loading algorithms..."})]})}):!c||c.length===0?t.jsx("div",{className:"relative flex flex-col",children:t.jsxs("div",{className:"p-8",children:[t.jsx("h1",{className:"mb-8 text-center text-3xl font-bold",children:e}),t.jsx("div",{className:"text-center text-gray-600",children:"No algorithms found for the specified date range."})]})}):t.jsxs("div",{className:"relative flex flex-col",children:[t.jsxs("div",{className:"p-8",children:[n&&t.jsx("div",{className:"mb-6 flex justify-center",children:t.jsx("img",{src:n,alt:`${e} Logo`,className:"h-24 w-auto object-contain"})}),t.jsxs("p",{className:"mb-4 text-center text-gray-600",children:[new Date(r).toLocaleDateString()," to"," ",new Date(s).toLocaleDateString()]}),t.jsxs("p",{className:"mb-8 text-center text-sm text-gray-500",children:["Showing ",c.length," algorithms from the extended submission period"]}),o&&t.jsx("div",{className:"mb-6 text-center",children:t.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:["Event Website",t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]}),t.jsxs("div",{className:"relative flex w-full flex-col",children:[t.jsx("div",{className:"h-full w-full p-4",children:t.jsxs("div",{className:"mx-auto flex w-full flex-wrap items-center justify-evenly gap-2",children:[h.map((d,x)=>t.jsx(S,{algorithmId:d},`${d}-${x}`)),h.length<i.length&&t.jsx("div",{ref:y,className:"h-4 w-full"})]})}),t.jsx(N,{to:"/hot",children:t.jsx("div",{className:"bg-background border-background-200 fixed bottom-0 right-0 flex w-auto items-center justify-center gap-8 gap-y-2 border px-8 py-4 sm:pb-4",children:t.jsx(E,{})})})]})]})}const Z={"summer-assembly-2025":{title:"Summer Assembly 2025",queryStartDate:"2025-06-01T00:00:00Z",queryEndDate:"2025-08-03T23:59:59Z",eventStartDate:"2025-07-31T00:00:00Z",eventEndDate:"2025-08-03T23:59:59Z",headerImage:"/assets/assembly-summer-2025-logo-640w-black-clean.png",description:"The premier summer demoparty experience",website:"https://assembly.org/en/events/summer25"},"winter-assembly-2025":{title:"Winter Assembly 2025",queryStartDate:"2025-01-01T00:00:00Z",queryEndDate:"2025-02-23T23:59:59Z",eventStartDate:"2025-02-20T00:00:00Z",eventEndDate:"2025-02-23T23:59:59Z",headerImage:"/assets/assembly-winter-2025-logo-640w-black-clean.png",description:"Kicking off the new year with creative coding",website:"https://assembly.org/en/events/winter25"},"revision-2025":{title:"Revision 2025",queryStartDate:"2025-02-24T00:00:00Z",queryEndDate:"2025-04-21T23:59:59Z",eventStartDate:"2025-04-18T00:00:00Z",eventEndDate:"2025-04-21T23:59:59Z",headerImage:"/assets/revision-2025-logo.png",description:"The legendary Easter demoparty",website:"https://2025.revision-party.net/"}};function C(){const e=v.c(12);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={from:"/_layout/event/$eventId"},e[0]=a):a=e[0];const r=D(a).eventId,s=Z[r];if(!s){let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Event Not Found"}),e[1]=o):o=e[1];let i;return e[2]!==r?(i=t.jsxs("div",{className:"flex h-screen w-full flex-col items-center justify-center",children:[o,t.jsxs("p",{className:"text-gray-600",children:['The event "',r,'" was not found.']})]}),e[2]=r,e[3]=i):i=e[3],i}let n;return e[4]!==s.eventEndDate||e[5]!==s.eventStartDate||e[6]!==s.headerImage||e[7]!==s.queryEndDate||e[8]!==s.queryStartDate||e[9]!==s.title||e[10]!==s.website?(n=t.jsx("div",{className:"flex h-screen w-full flex-col",children:t.jsx(L,{title:s.title,queryStartDate:s.queryStartDate,queryEndDate:s.queryEndDate,eventStartDate:s.eventStartDate,eventEndDate:s.eventEndDate,headerImage:s.headerImage,website:s.website})}),e[4]=s.eventEndDate,e[5]=s.eventStartDate,e[6]=s.headerImage,e[7]=s.queryEndDate,e[8]=s.queryStartDate,e[9]=s.title,e[10]=s.website,e[11]=n):n=e[11],n}export{C as E,Z as e};
