import{r as c,u as N,a as w,j as e}from"./main-D_QOtJ75.js";import{u as C,L as p,t as y,z as i}from"./label-CqcMyrRf.js";import{C as b,a as S,b as E,c as k,d as I,H as P}from"./card-BjFbz_C2.js";import{B as x}from"./button-BnWcWO71.js";import{I as u}from"./input-DbyYkZn1.js";import"./index-CtIrN4Eb.js";import"./utils-CjfV1Qjd.js";const T=i.object({email:i.string().email("Please enter a valid email address"),password:i.string().min(6,"Password must be at least 6 characters")});function A(){const[n,t]=c.useState(null),[l,h]=c.useState(),r=c.useRef(null),{signIn:j}=N(),o=w(),{register:m,handleSubmit:f,formState:{errors:s,isSubmitting:g}}=C({resolver:y(T)}),v=async a=>{if(!l){t("Please complete the captcha");return}try{await j(a.email,a.password,l),r.current?.resetCaptcha(),t(null),o("/")}catch(d){r.current?.resetCaptcha(),t(d instanceof Error?d.message:"An error occurred")}};return e.jsx("div",{className:"container flex h-[100vh] w-full items-center justify-center",children:e.jsxs(b,{className:"mx-auto w-full max-w-md",children:[e.jsxs(S,{className:"space-y-1",children:[e.jsx(E,{className:"text-2xl font-bold",children:"Welcome back"}),e.jsx(k,{children:"Enter your email below to login to your account"})]}),e.jsxs(I,{children:[e.jsxs("form",{onSubmit:f(v),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"email",children:"Email"}),e.jsx(u,{id:"email",type:"email",placeholder:"m@example.com",...m("email")}),s.email?.message&&e.jsx("p",{className:"text-destructive text-sm",children:String(s.email.message)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"password",children:"Password"}),e.jsx(u,{id:"password",type:"password",...m("password")}),s.password?.message&&e.jsx("p",{className:"text-destructive text-sm",children:String(s.password.message)})]}),n&&e.jsx("div",{className:"text-destructive text-sm",children:n}),e.jsx("div",{className:"flex justify-center",children:e.jsx(P,{ref:r,sitekey:"07c0e734-3642-4f8a-a830-89105772bc7e",onVerify:a=>h(a)})}),e.jsx(x,{type:"submit",className:"w-full",disabled:g,children:"SIGN IN"})]}),e.jsxs("div",{className:"mt-4 flex flex-col gap-4 text-center text-sm",children:[e.jsx("div",{children:"Don't have an account?"}),e.jsx(x,{variant:"ghost",onClick:()=>o("/signup"),children:"CREATE ACCOUNT"})]})]})]})})}const G=A;export{G as component};
