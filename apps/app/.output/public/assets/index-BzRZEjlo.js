import{E as $}from"./main-D_QOtJ75.js";var C,T;function G(){if(T)return C;T=1;const t="Input must be an string, Buffer or Uint8Array";function r(f){let s;if(f instanceof Uint8Array)s=f;else if(typeof f=="string")s=new TextEncoder().encode(f);else throw new Error(t);return s}function n(f){return Array.prototype.map.call(f,function(s){return(s<16?"0":"")+s.toString(16)}).join("")}function h(f){return(4294967296+f).toString(16).substring(1)}function b(f,s,l){let m=`
`+f+" = ";for(let y=0;y<s.length;y+=2){if(l===32)m+=h(s[y]).toUpperCase(),m+=" ",m+=h(s[y+1]).toUpperCase();else if(l===64)m+=h(s[y+1]).toUpperCase(),m+=h(s[y]).toUpperCase();else throw new Error("Invalid size "+l);y%6===4?m+=`
`+new Array(f.length+4).join(" "):y<s.length-2&&(m+=" ")}console.log(m)}function d(f,s,l){let m=new Date().getTime();const y=new Uint8Array(s);for(let A=0;A<s;A++)y[A]=A%256;const x=new Date().getTime();console.log("Generated random input in "+(x-m)+"ms"),m=x;for(let A=0;A<l;A++){const B=f(y),i=new Date().getTime(),u=i-m;m=i,console.log("Hashed in "+u+"ms: "+B.substring(0,20)+"..."),console.log(Math.round(s/(1<<20)/(u/1e3)*100)/100+" MB PER SECOND")}}return C={normalizeInput:r,toHex:n,debugPrint:b,testSpeed:d},C}var D,O;function J(){if(O)return D;O=1;const t=G();function r(e,c,o){const p=e[c]+e[o];let w=e[c+1]+e[o+1];p>=4294967296&&w++,e[c]=p,e[c+1]=w}function n(e,c,o,p){let w=e[c]+o;o<0&&(w+=4294967296);let g=e[c+1]+p;w>=4294967296&&g++,e[c]=w,e[c+1]=g}function h(e,c){return e[c]^e[c+1]<<8^e[c+2]<<16^e[c+3]<<24}function b(e,c,o,p,w,g){const U=m[w],k=m[w+1],M=m[g],K=m[g+1];r(l,e,c),n(l,e,U,k);let E=l[p]^l[e],v=l[p+1]^l[e+1];l[p]=v,l[p+1]=E,r(l,o,p),E=l[c]^l[o],v=l[c+1]^l[o+1],l[c]=E>>>24^v<<8,l[c+1]=v>>>24^E<<8,r(l,e,c),n(l,e,M,K),E=l[p]^l[e],v=l[p+1]^l[e+1],l[p]=E>>>16^v<<16,l[p+1]=v>>>16^E<<16,r(l,o,p),E=l[c]^l[o],v=l[c+1]^l[o+1],l[c]=v>>>31^E<<1,l[c+1]=E>>>31^v<<1}const d=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],s=new Uint8Array(f.map(function(e){return e*2})),l=new Uint32Array(32),m=new Uint32Array(32);function y(e,c){let o=0;for(o=0;o<16;o++)l[o]=e.h[o],l[o+16]=d[o];for(l[24]=l[24]^e.t,l[25]=l[25]^e.t/4294967296,c&&(l[28]=~l[28],l[29]=~l[29]),o=0;o<32;o++)m[o]=h(e.b,4*o);for(o=0;o<12;o++)b(0,8,16,24,s[o*16+0],s[o*16+1]),b(2,10,18,26,s[o*16+2],s[o*16+3]),b(4,12,20,28,s[o*16+4],s[o*16+5]),b(6,14,22,30,s[o*16+6],s[o*16+7]),b(0,10,20,30,s[o*16+8],s[o*16+9]),b(2,12,22,24,s[o*16+10],s[o*16+11]),b(4,14,16,26,s[o*16+12],s[o*16+13]),b(6,8,18,28,s[o*16+14],s[o*16+15]);for(o=0;o<16;o++)e.h[o]=e.h[o]^l[o]^l[o+16]}const x=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function A(e,c,o,p){if(e===0||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(c&&c.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(o&&o.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(p&&p.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const w={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};x.fill(0),x[0]=e,c&&(x[1]=c.length),x[2]=1,x[3]=1,o&&x.set(o,32),p&&x.set(p,48);for(let g=0;g<16;g++)w.h[g]=d[g]^h(x,g*4);return c&&(B(w,c),w.c=128),w}function B(e,c){for(let o=0;o<c.length;o++)e.c===128&&(e.t+=e.c,y(e,!1),e.c=0),e.b[e.c++]=c[o]}function i(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;y(e,!0);const c=new Uint8Array(e.outlen);for(let o=0;o<e.outlen;o++)c[o]=e.h[o>>2]>>8*(o&3);return c}function u(e,c,o,p,w){o=o||64,e=t.normalizeInput(e),p&&(p=t.normalizeInput(p)),w&&(w=t.normalizeInput(w));const g=A(o,c,p,w);return B(g,e),i(g)}function a(e,c,o,p,w){const g=u(e,c,o,p,w);return t.toHex(g)}return D={blake2b:u,blake2bHex:a,blake2bInit:A,blake2bUpdate:B,blake2bFinal:i},D}var z,_;function X(){if(_)return z;_=1;const t=G();function r(i,u){return i[u]^i[u+1]<<8^i[u+2]<<16^i[u+3]<<24}function n(i,u,a,e,c,o){f[i]=f[i]+f[u]+c,f[e]=h(f[e]^f[i],16),f[a]=f[a]+f[e],f[u]=h(f[u]^f[a],12),f[i]=f[i]+f[u]+o,f[e]=h(f[e]^f[i],8),f[a]=f[a]+f[e],f[u]=h(f[u]^f[a],7)}function h(i,u){return i>>>u^i<<32-u}const b=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),d=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),f=new Uint32Array(16),s=new Uint32Array(16);function l(i,u){let a=0;for(a=0;a<8;a++)f[a]=i.h[a],f[a+8]=b[a];for(f[12]^=i.t,f[13]^=i.t/4294967296,u&&(f[14]=~f[14]),a=0;a<16;a++)s[a]=r(i.b,4*a);for(a=0;a<10;a++)n(0,4,8,12,s[d[a*16+0]],s[d[a*16+1]]),n(1,5,9,13,s[d[a*16+2]],s[d[a*16+3]]),n(2,6,10,14,s[d[a*16+4]],s[d[a*16+5]]),n(3,7,11,15,s[d[a*16+6]],s[d[a*16+7]]),n(0,5,10,15,s[d[a*16+8]],s[d[a*16+9]]),n(1,6,11,12,s[d[a*16+10]],s[d[a*16+11]]),n(2,7,8,13,s[d[a*16+12]],s[d[a*16+13]]),n(3,4,9,14,s[d[a*16+14]],s[d[a*16+15]]);for(a=0;a<8;a++)i.h[a]^=f[a]^f[a+8]}function m(i,u){if(!(i>0&&i<=32))throw new Error("Incorrect output length, should be in [1, 32]");const a=u?u.length:0;if(u&&!(a>0&&a<=32))throw new Error("Incorrect key length, should be in [1, 32]");const e={h:new Uint32Array(b),b:new Uint8Array(64),c:0,t:0,outlen:i};return e.h[0]^=16842752^a<<8^i,a>0&&(y(e,u),e.c=64),e}function y(i,u){for(let a=0;a<u.length;a++)i.c===64&&(i.t+=i.c,l(i,!1),i.c=0),i.b[i.c++]=u[a]}function x(i){for(i.t+=i.c;i.c<64;)i.b[i.c++]=0;l(i,!0);const u=new Uint8Array(i.outlen);for(let a=0;a<i.outlen;a++)u[a]=i.h[a>>2]>>8*(a&3)&255;return u}function A(i,u,a){a=a||32,i=t.normalizeInput(i);const e=m(a,u);return y(e,i),x(e)}function B(i,u,a){const e=A(i,u,a);return t.toHex(e)}return z={blake2s:A,blake2sHex:B,blake2sInit:m,blake2sUpdate:y,blake2sFinal:x},z}var P,j;function L(){if(j)return P;j=1;const t=J(),r=X();return P={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:r.blake2s,blake2sHex:r.blake2sHex,blake2sInit:r.blake2sInit,blake2sUpdate:r.blake2sUpdate,blake2sFinal:r.blake2sFinal},P}var Q=L();const Y=$(Q);function Z(t){if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}function W(t,r){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),h=0;h<n.length;h++)n[h]=255;for(var b=0;b<t.length;b++){var d=t.charAt(b),f=d.charCodeAt(0);if(n[f]!==255)throw new TypeError(d+" is ambiguous");n[f]=b}var s=t.length,l=t.charAt(0),m=Math.log(s)/Math.log(256),y=Math.log(256)/Math.log(s);function x(i){if(i instanceof Uint8Array||(ArrayBuffer.isView(i)?i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength):Array.isArray(i)&&(i=Uint8Array.from(i))),!(i instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(i.length===0)return"";for(var u=0,a=0,e=0,c=i.length;e!==c&&i[e]===0;)e++,u++;for(var o=(c-e)*y+1>>>0,p=new Uint8Array(o);e!==c;){for(var w=i[e],g=0,U=o-1;(w!==0||g<a)&&U!==-1;U--,g++)w+=256*p[U]>>>0,p[U]=w%s>>>0,w=w/s>>>0;if(w!==0)throw new Error("Non-zero carry");a=g,e++}for(var k=o-a;k!==o&&p[k]===0;)k++;for(var M=l.repeat(u);k<o;++k)M+=t.charAt(p[k]);return M}function A(i){if(typeof i!="string")throw new TypeError("Expected String");if(i.length===0)return new Uint8Array;var u=0;if(i[u]!==" "){for(var a=0,e=0;i[u]===l;)a++,u++;for(var c=(i.length-u)*m+1>>>0,o=new Uint8Array(c);i[u];){var p=n[i.charCodeAt(u)];if(p===255)return;for(var w=0,g=c-1;(p!==0||w<e)&&g!==-1;g--,w++)p+=s*o[g]>>>0,o[g]=p%256>>>0,p=p/256>>>0;if(p!==0)throw new Error("Non-zero carry");e=w,u++}if(i[u]!==" "){for(var U=c-e;U!==c&&o[U]===0;)U++;for(var k=new Uint8Array(a+(c-U)),M=a;U!==c;)k[M++]=o[U++];return k}}}function B(i){var u=A(i);if(u)return u;throw new Error(`Non-${r} character`)}return{encode:x,decodeUnsafe:A,decode:B}}var ee=W,re=ee;class te{name;prefix;baseEncode;constructor(r,n,h){this.name=r,this.prefix=n,this.baseEncode=h}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class ne{name;prefix;baseDecode;prefixCodePoint;constructor(r,n,h){this.name=r,this.prefix=n;const b=n.codePointAt(0);if(b===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=b,this.baseDecode=h}decode(r){if(typeof r=="string"){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(r){return N(this,r)}}class oe{decoders;constructor(r){this.decoders=r}or(r){return N(this,r)}decode(r){const n=r[0],h=this.decoders[n];if(h!=null)return h.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function N(t,r){return new oe({...t.decoders??{[t.prefix]:t},...r.decoders??{[r.prefix]:r}})}class ie{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(r,n,h,b){this.name=r,this.prefix=n,this.baseEncode=h,this.baseDecode=b,this.encoder=new te(r,n,h),this.decoder=new ne(r,n,b)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}function V({name:t,prefix:r,encode:n,decode:h}){return new ie(t,r,n,h)}function S({name:t,prefix:r,alphabet:n}){const{encode:h,decode:b}=re(n,t);return V({prefix:r,name:t,encode:h,decode:d=>Z(b(d))})}function ae(t,r,n,h){let b=t.length;for(;t[b-1]==="=";)--b;const d=new Uint8Array(b*n/8|0);let f=0,s=0,l=0;for(let m=0;m<b;++m){const y=r[t[m]];if(y===void 0)throw new SyntaxError(`Non-${h} character`);s=s<<n|y,f+=n,f>=8&&(f-=8,d[l++]=255&s>>f)}if(f>=n||(255&s<<8-f)!==0)throw new SyntaxError("Unexpected end of data");return d}function se(t,r,n){const h=r[r.length-1]==="=",b=(1<<n)-1;let d="",f=0,s=0;for(let l=0;l<t.length;++l)for(s=s<<8|t[l],f+=8;f>n;)f-=n,d+=r[b&s>>f];if(f!==0&&(d+=r[b&s<<n-f]),h)for(;(d.length*n&7)!==0;)d+="=";return d}function fe(t){const r={};for(let n=0;n<t.length;++n)r[t[n]]=n;return r}function I({name:t,prefix:r,bitsPerChar:n,alphabet:h}){const b=fe(h);return V({prefix:r,name:t,encode(d){return se(d,h,n)},decode(d){return ae(d,b,n,t)}})}I({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});I({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});I({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});I({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});I({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});I({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});I({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});I({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});I({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});S({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});S({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});S({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});S({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const{blake2b:pe}=Y;var R=ue(1,2,3,4);function le(t){return{Procedural:F(4,R),ProceduralPersonal:[0,0,0,0,0,0,0,...F(1,R)],ProceduralAccount:F(32,R)}[t]}function H(t){return Array.from(t).join(",")}function we(t,r=16){const n=le(t);return he(n,{size:r})}function ce(t,r={minBits:1,maxBits:3}){if(r.minBits>r.maxBits)throw new Error("minBits must be less than maxBits");if(r.minBits<1)throw new Error("minBits must be greater than 0");if(r.maxBits<1)throw new Error("maxBits must be greater than 0");const n=Array.from(t);if(t.length===8){const d=n.slice(-4);q(Math.max(Math.floor(Math.random()*r.maxBits),r.minBits))(d),n.splice(-4,4,...d)}else q(Math.floor(Math.random()*3)+1)(n);return n}function he(t,r){const n=new Map;for(n.set(H(t),Array.from(t));n.size<r.size;){const h=ce(t),b=H(h);n.has(b)||n.set(b,h)}return[...n.values()]}function F(t,r){const n=Array(t).fill(0);for(let h=0;h<t;h++)n[h]=Math.floor(r()*255);return n}function ue(t,r,n,h){return function(){t|=0,r|=0,n|=0,h|=0;const b=(t+r|0)+h|0;return h=h+1|0,t=r^r>>>9,r=n+(n<<3)|0,n=n<<21|n>>>11,n=n+b|0,(b>>>0)/4294967296}}function q(t){return r=>{for(let n=0;n<t;++n){const h=2**Math.floor(Math.random()*8),b=Math.floor(Math.random()*4);r[b]^=h}}}function be(t,r){return t[r%t.length]}function me(t){if(t.length>64)throw"Seed too long to safely convert to a bigint";let n=0n;for(let h=0;h<t.length;h++)n=n<<8n|BigInt(be(t,h));return n}export{we as a,he as d,le as g,me as n,H as s};
